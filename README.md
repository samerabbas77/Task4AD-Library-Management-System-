+المهمة: بناء نظام إدارة مكتبة مع استعارة الكتب (Library Management System)
المتطلبات:
إعداد المشروع:
قم بإنشاء مشروع جديد باستخدام Laravel.
قم بإعداد قاعدة بيانات جديدة وربطها بالمشروع.
جداول قاعدة البيانات:
إنشاء الجداول التالية:
books:
id (مفتاح رئيسي)
title (اسم الكتاب)
author (اسم المؤلف)
description (وصف الكتاب)
published_at (تاريخ النشر)
created_at و updated_at (تلقائيين)
users:
id (مفتاح رئيسي)
name (اسم المستخدم)
email (البريد الإلكتروني)
password (كلمة المرور)
created_at و updated_at (تلقائيين)
borrow_:records:
id (مفتاح رئيسي)
book_id (معرّف الكتاب، مفتاح)
user_id (معرّف المستخدم، مفتاح)
borrowed_at (تاريخ الاستعارة)
due_date (تاريخ الإعادة)
returned_at (تاريخ الإرجاع)
created_at و updated_at (تلقائيين)
نظام الـ Auth:
قم بإعداد نظام ِAuth  باستخدام API tokens باستخدام حزمة JWT بحيث يتمكن المستخدمون من تسجيل الدخول وتسجيل الخروج باستخدام API.
قم بإنشاء صلاحيات بحيث يمكن للمستخدمين المسجلين فقط استعارة الكتب.
إنشاء CRUD:
Books CRUD: قم بإنشاء جميع عمليات الـ CRUD للكتب (إنشاء، عرض، تحديث، حذف).
Users CRUD: قم بإنشاء عمليات الـ CRUD للمستخدمين مع صلاحيات إدارية.
Borrow Records CRUD: قم بإنشاء CRUD لسجل الاستعارة بحيث يتمكن المستخدمون من استعارة وإرجاع الكتب.
تحدي الاستعارة:
 يحق للمستخدمين المسجلين فقط استعارة الكتب.
تحقق من توفر الكتاب قبل السماح بالاستعارة (لا يمكن استعارة الكتاب مرتين في نفس الوقت).
عند استعارة الكتاب، يجب تحديد تاريخ الإرجاع (تلقائيًا بعد 14 يومًا من تاريخ الاستعارة).
التأكد من صحة البيانات باستخدام Form Requests:
إنشاء Form Request لكل من الـ Books و Borrow Records:
BookFormRequest: يجب أن يحتوي على قواعد التحقق (Validation rules) المناسبة عند إضافة أو تحديث كتاب. على سبيل المثال، يجب التحقق من أن عنوان الكتاب title غير فارغ ومؤلف الكتاب author يجب أن يحتوي على أكثر من 3 حروف.
BorrowRecordFormRequest: يجب أن يحتوي على قواعد التحقق مثل التحقق من أن تاريخ الإعادة due_date ليس قبل تاريخ الاستعارة borrowed_at.
إدارة الأخطاء باستخدام failedValidation:
قم بتخصيص طريقة failedValidation في الـ Form Requests بحيث ترسل رسالة خطأ مخصصة إذا فشلت عملية التحقق. هذه الرسالة يجب أن تكون واضحة للمستخدم وتصف المشكلة بالتحديد.
تنفيذ عمليات بعد النجاح باستخدام passedValidation:
إذا نجحت عملية التحقق، استخدم طريقة passedValidation لتنفيذ عمليات معينة بعد التحقق. على سبيل المثال، يمكن استخدام passedValidation في BorrowRecordFormRequest لتسجيل وقت إضافي إذا كانت عملية التحقق ناجحة أو إرسال تنبيه. 
تخصيص أسماء الحقول باستخدام attributes:
استخدم خاصية attributes في الـ Form Request لتخصيص أسماء الحقول عند عرض رسائل الخطأ. على سبيل المثال، بدلاً من عرض "The title field is required"، يمكن تخصيصها لتظهر "اسم الكتاب مطلوب".
تخصيص رسائل التحقق باستخدام messages:
قم بتخصيص رسائل التحقق باستخدام خاصية messages في الـ Form Requests لتقديم رسائل مفهومة أكثر للمستخدم. على سبيل المثال، إذا كان هناك حقل معين يجب أن يحتوي على قيمة معينة، تأكد من أن رسالة الخطأ توضح هذا الشرط بشكل واضح.
التوثيق و التعليقات:
يجب توثيق كل الكود باستخدام التعليقات المناسبة (DocBlocks) لضمان سهولة فهم الكود لاحقًا.
التحدي الإضافي:
نظام تصفية الكتب:
قم بإنشاء واجهة API لفلترة الكتب بحيث يمكن للمستخدمين البحث عن كتب بناءً على أحد أو جميع العوامل التالية:
المؤلف: عرض الكتب لمؤلف معين.
التصنيف: إضافة نظام تصنيف للكتب (مثل: رواية، تقنية، تعليمية) ثم فلترة الكتب حسب التصنيف.
توفر الكتاب: فلترة الكتب المتاحة للاستعارة فقط.
نظام التقييم (Rating):
أضف نظام تقييم للكتب بحيث يمكن للمستخدمين تقييم الكتب التي قاموا باستعارتها.
إنشاء CRUD للتقييمات بحيث يمكن للمستخدمين إضافة، عرض، وتحديث تقييماتهم.
توضيحات إضافية:
يجب أن تحتوي كل واجهة API على ردود واضحة تشمل رسائل خطأ مناسبة عند الفشل.
يجب أن تكون كل العمليات مؤمنة بحيث لا يمكن تنفيذها إلا من قبل المستخدمين المصرح لهم.



